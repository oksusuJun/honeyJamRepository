

drop table Reservation cascade constraint;

create table Reservation (
	reservation_id	number(10) primary key,
	email	varchar2(50),
	check_in	date,
	check_out	date,
	number_of_guests number(2)	not null,
	room_id	number(3)	not null,
	gender		varchar2(10)	not null,
	constraint email_fk foreign key (email) references member(email),
	constraint room_id_fk foreign key (room_id) references room(room_id)
);


select * from RESERVATION;
select * from member;
select* from room;

insert into reservation values(0,'bbb','2017-10-09','2017-10-14',2,202,'남성','0');
insert into reservation values(1,'bbb','2017-10-12','2017-10-16', 2, 201,'남성');
insert into reservation values(2,'777','2017-10-13','2017-10-17', 2, 202,'남성');
insert into reservation values(3,'yyy','2017-10-14','2017-10-18', 2, 202,'남성');
insert into reservation values(4,'bbb','2017-10-15','2017-10-19', 2, 201,'남성');
insert into reservation values(5,'777','2017-10-16','2017-10-20', 2, 401,'남성');
insert into reservation values(6,'yyy','2017-10-17','2017-10-21', 2, 401,'남성');
insert into reservation values(7,'bbb','2017-10-18','2017-10-22', 2, 601,'남성');
insert into reservation values(8,'777','2017-10-19','2017-10-23', 2, 601,'남성');



select * from reservation 
where check_in <= to_date('20171014','YYYYMMDD')
and check_out > to_date('20171014','YYYYMMDD');

